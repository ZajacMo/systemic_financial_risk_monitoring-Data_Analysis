# 系统性金融风险监测数据分析项目

[![GitHub license](https://img.shields.io/github/license/ZajacMo/systemic_financial_risk_monitoring-Data_Analysis)](LICENSE)
[English](README.md)

## 项目简介

本项目旨在构建一个全面的系统性金融风险监测框架，通过多维度分析中国金融市场的风险状况。该系统通过整合股票市场、债券市场、外汇市场、货币市场和衍生品市场五个维度的数据，利用主成分分析（PCA）和马尔科夫区制转换等方法，构建系统性金融风险压力指数，并进行风险区制识别和概率分析。


## 系统架构

```
systemic_financial_risk_monitoring-Data_Analysis/
├── db/                  # 数据存储目录
│   ├── data_股票市场维度.xlsx
│   ├── data_债券市场维度.xlsx
│   ├── data_外汇市场维度.xlsx
│   ├── data_货币市场维度.xlsx
│   └── data_衍生品市场维度.xlsx
├── systemic_financial_risk_monitoring/  # 核心代码目录
│   ├── main.py          # 主程序入口
│   ├── algorithm.py     # 算法实现
│   ├── preprocessing.py # 数据预处理
│   └── draw_img.py      # 图像绘制
├── output/              # 输出结果目录
│   ├── img/             # 生成的图表
│   ├── corr_*.xlsx      # 相关性分析结果
│   ├── loading_*.xlsx   # 因子载荷结果
│   └── contrib_*.xlsx   # 因子贡献度结果
├── docs/                # 文档目录
└── LICENSE              # 许可证文件
```

## 核心功能

### 1. 数据预处理模块
- 数据清洗与格式化
- 计算指标波动率（GARCH模型）
- 数据标准化与量纲统一
- 累积分布排序

### 2. 算法分析模块
- 主成分分析（PCA）：降维和特征提取
- 加权合成子市场指数
- 系统性金融风险指数构建
- 马尔科夫区制转换分析
- 风险概率密度估计

### 3. 可视化模块
- 单线条图绘制（各市场压力指数）
- 双线条图绘制（风险区制概率）
- 直方图绘制（概率密度分布）
- 支持SVG格式输出

## 技术栈

- **编程语言**：Python 3.8+
- **数据分析库**：pandas, numpy, scipy
- **统计分析**：statsmodels
- **波动率模型**：arch
- **可视化**：matplotlib

## 关键指标体系

### 股票市场维度
- 市盈率Q
- 换手率R
- 融券融资比S
- 涨跌幅绝对波动U

### 债券市场维度
- 国债期限溢价
- 综合风险溢价
- 中证综合债指数波动率

### 外汇市场维度
- 人民币汇率市场扭曲程度
- 美元兑人民币中间价波动率

### 货币市场维度
- 流动性溢价
- 银行间质押式回购加权利率波动率
- SHIBOR波动率

### 衍生品市场维度
- 股值期货价格偏离度
- 沪深300指数期货日对数收益率波动率

## 使用方法

1. 确保安装所有必要的依赖包：
```bash
pip install pandas numpy scipy statsmodels arch matplotlib
```

2. 准备数据文件，按照格式要求放置在`db`目录下

3. 运行主程序：
```bash
cd systemic_financial_risk_monitoring
python main.py
```

4. 结果将输出到`output`目录，包括：
   - 各市场维度的相关性矩阵
   - 因子载荷矩阵
   - 因子贡献度
   - 压力指数图表
   - 风险概率分析结果

## 模型实现细节

### 主成分分析（PCA）
- 通过计算特征值和特征向量，选取解释方差大于80%的主成分
- 计算因子载荷矩阵和因子贡献度，确定关键指标

### 指数合成方法
- 基于各市场中筛选出的关键指标，使用加权平均法合成子市场指数
- 综合各子市场指数，考虑相关性，构建最终的系统性金融风险压力指数

### 马尔科夫区制转换
- 使用两状态马尔科夫转换模型，识别"中低风险"和"高风险"两种区制
- 计算各区制的概率密度分布

## 项目价值

1. **风险监测**：实时监测金融市场系统性风险状况
2. **预警功能**：通过风险区制转换分析，提前预警潜在风险
3. **政策参考**：为金融监管和宏观经济政策制定提供数据支持
4. **投资决策**：为投资策略制定提供风险参考指标

## 许可证

本项目采用MIT许可证 - 详情请参阅[LICENSE](LICENSE)文件